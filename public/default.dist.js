// https://www.toptal.com/developers/javascript-minifier
((e,t,r)=>{"use strict";let n={length:5,maxTryCount:10,targetWord:""},l,a,o,s,i,c=n.maxTryCount,d=t.getElementById("answer");Number.prototype.zeroFill=function(e){return("0".repeat(e)+this.toString()).slice(-e)};let $=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,g=()=>{l=!1,a=!1,o=0,s="00:00:00",i=0,c=n.maxTryCount,t.getElementById("result-area").innerHTML="",t.getElementById("answer-check").innerHTML="",y()},h=e=>{if(a){let r=Math.floor(++o/3600).zeroFill(2),n;s=`${r}:${Math.floor(o%3600/60).zeroFill(2)}:${(o%60).zeroFill(2)}`,t.getElementById("clear-time").innerText=s,!1!==e&&setTimeout(()=>{h(!0)},1e3)}},u=e=>0!==e.length&&e.every(e=>e.isCorrect),m=e=>{let t=e.map(e=>{let t=e.isCorrect?"correct":e.isIncluded?"included":"";return`<span class="char ${t}">${e.char}</span>`}).join("");return`<div id="result-line-${i}" class="result-line">${t}<span class="time">${s}</span></div>`},y=()=>{t.getElementById("try-count").innerText=`${c}`},p=e=>!!l||c<=0&&(l=!0,a=!1,e&&(alert("Game Over"),t.getElementById("answer-check").innerHTML=`Answer: <span class="answer-word">${n.targetWord}</span>`),!0),E=e=>{if(e.length!==n.length)throw Error(`Length is not ${n.length}`);if(!e.match(/^[a-zA-Z]+$/))throw Error("Only alphabets are allowed")},_=e=>{let t=[];for(let r=0;r<e.length;r++){let l={char:e[r],isCorrect:!1,isIncluded:!1};l.char===n.targetWord[r]?l.isCorrect=!0:n.targetWord.includes(e[r])&&(l.isIncluded=!0),t.push(l)}return t},w=e=>{e=e.toUpperCase();try{if(p(!1))return;E(e)}catch(r){console.error(r),alert(r.message);return}let n=_(e);t.getElementById("result-area").innerHTML+=m(n),i++,c--,y(),setTimeout(()=>{u(n)?(l=!0,a=!1,alert("Congratulations!")):p(!0),d.focus()},0)},I=()=>{let e=r[$(0,r.length)].toUpperCase();n.targetWord=e,console.log("targetWord:",e),g(),d.minLength=n.length,d.maxLength=n.length,t.getElementById("check").addEventListener("click",e=>{w(d.value)}),d.addEventListener("keydown",e=>{console.log("keydown:",e.key),"Enter"===e.key&&w(d.value)}),d.addEventListener("change",e=>{console.log("change:",e.target.value),a||(a=!0,setTimeout(()=>{h(!0)},1e3))}),y()};I()})(window,document,wordList);
